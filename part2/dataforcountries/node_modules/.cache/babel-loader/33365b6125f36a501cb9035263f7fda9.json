{"ast":null,"code":"var _jsxFileName = \"/home/beto/Documentos/FullStack/part2/dataforcountries/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Weather = props => {\n  const [completed, setCompleted] = useState(false);\n\n  const getWeather = () => {\n    axios.get(`http://api.weatherstack.com/current?access_key=${\"55dbce230d6ed0e4a89f35dc8fb8afbf\"}&query=${props.country.capital}`).then(response => {\n      console.log(response.data);\n      setCompleted(true);\n      props.setWeather(response.data);\n    }).catch(error => console.log(error));\n  };\n\n  useEffect(getWeather, []);\n  return completed ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 4\n    }\n  }, \"Weather in \", props.country.capital), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, \"temperature:\"), \" \", props.weather.current.temperature, \" celsius\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: props.weather.current.icon,\n    alt: \"Sky Representation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, \"wind:\"), \" \", \"X\", \" kph direction\", \" \", \"X\")) : null;\n};\n\nconst Content = props => {\n  const countriesToShow = () => {\n    if (props.filterPar === \"\") {\n      return props.countries;\n    } else {\n      let filterParUpper = props.filterPar.toUpperCase();\n      let newlist = props.countries.filter(element => element.name.toUpperCase().search(filterParUpper) > -1);\n      return newlist;\n    }\n  };\n\n  const showData = country => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 4\n      }\n    }, country.name), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 4\n      }\n    }, \"capital \", country.capital), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 4\n      }\n    }, \"population \", country.population), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 4\n      }\n    }, \"languages\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }\n    }, country.languages.map(element => /*#__PURE__*/React.createElement(\"li\", {\n      key: element.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 39\n      }\n    }, element.name))), /*#__PURE__*/React.createElement(\"img\", {\n      src: country.flag,\n      alt: \"Country Flag\",\n      width: \"300\",\n      height: \"200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(Weather, {\n      setWeather: props.setWeather,\n      weather: props.weather,\n      country: country,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 4\n      }\n    }));\n  };\n\n  if (countriesToShow().length === 1) {\n    return showData(countriesToShow()[0]);\n  } else if (props.showButton !== \"\") {\n    return showData(countriesToShow().filter(element => element.name === props.showButton)[0]);\n  } else if (countriesToShow().length <= 10) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 4\n      }\n    }, countriesToShow().map(element => /*#__PURE__*/React.createElement(\"li\", {\n      key: element.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 45\n      }\n    }, element.name, \" \", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        props.setShowButton(element.name);\n        props.setWeather(element.capital);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 83\n      }\n    }, \"show\"))), \" \");\n  } else if (countriesToShow().length > 10) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 4\n      }\n    }, \"Too many matches, specify another filter\");\n  }\n};\n\nconst App = () => {\n  const [filterPar, setFilterPar] = useState(\"\");\n  const [countries, setCountries] = useState([]);\n  const [showButton, setShowButton] = useState(\"\");\n  const [weather, setWeather] = useState({});\n\n  const getCountries = () => {\n    axios.get(\"https://restcountries.eu/rest/v2/all\").then(response => setCountries(response.data));\n  };\n\n  const changeFilterPar = event => {\n    setFilterPar(event.target.value);\n    setShowButton(\"\");\n  };\n\n  useEffect(getCountries, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }\n  }, \"find countries \", /*#__PURE__*/React.createElement(\"input\", {\n    value: filterPar,\n    onChange: changeFilterPar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(Content, {\n    countries: countries,\n    filterPar: filterPar,\n    setShowButton: setShowButton,\n    showButton: showButton,\n    weather: weather,\n    setWeather: setWeather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/beto/Documentos/FullStack/part2/dataforcountries/src/App.js"],"names":["React","useState","useEffect","axios","Weather","props","completed","setCompleted","getWeather","get","country","capital","then","response","console","log","data","setWeather","catch","error","weather","current","temperature","icon","Content","countriesToShow","filterPar","countries","filterParUpper","toUpperCase","newlist","filter","element","name","search","showData","population","languages","map","flag","length","showButton","setShowButton","App","setFilterPar","setCountries","getCountries","changeFilterPar","event","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nconst Weather = (props) =>{\n\tconst [completed,setCompleted] = useState(false)\n\t\n\tconst getWeather = () =>{\n\t\taxios.get(`http://api.weatherstack.com/current?access_key=${\"55dbce230d6ed0e4a89f35dc8fb8afbf\"}&query=${props.country.capital}`)\n\t\t.then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tsetCompleted(true)\n\t\t\tprops.setWeather(response.data)\n\t\t})\n\t\t.catch(error => console.log(error))\n\t}\n\n\tuseEffect(getWeather,[])\n\treturn completed ? (\n\t\t<>\n\t\t\t<h3>Weather in {props.country.capital}</h3>\n\t\t\t<p>\n\t\t\t\t<strong>temperature:</strong> {props.weather.current.temperature} celsius\n\t\t\t</p>\n\t\t\t<img src={props.weather.current.icon} alt={\"Sky Representation\"}/>\n\t\t\t<p>\n\t\t\t\t<strong>wind:</strong> {\"X\"} kph direction{\" \"}{\"X\"}\n\t\t\t</p>\n\t\t</>\n\t) : null \n}\n\nconst Content = (props) =>{\n\tconst countriesToShow = () =>{\n\t\tif (props.filterPar===\"\") {\n\t\t\treturn props.countries\n\t\t}\n\t\telse {\n\t\t\tlet filterParUpper = props.filterPar.toUpperCase()\n\t\t\tlet newlist = props.countries.filter(element => element.name.toUpperCase().search(filterParUpper)>-1)\n\t\t\treturn newlist\n\t\t}\n\t}\n\tconst showData = (country) =>{ \n\t\treturn(\n\t\t\t<>\n\t\t\t<h1>{country.name}</h1>\n\t\t\t<div>capital {country.capital}</div>\n\t\t\t<div>population {country.population}</div>\n\t\t\t<h2>languages</h2>\n\t\t\t<ul>\n\t\t\t\t{country.languages.map(element => <li key={element.name}>{element.name}</li>)}\n\t\t\t</ul>\n\t\t\t<img src={country.flag} alt=\"Country Flag\" width=\"300\" height=\"200\"/>\n\t\t\t<Weather setWeather={props.setWeather} weather={props.weather} country={country}/>\n\t\t\t</>\n\t\t)\n\t}\n\n\tif (countriesToShow().length===1) {\n\t\treturn (showData(countriesToShow()[0]))\n\t}\n\telse if (props.showButton!==\"\"){\n\t\treturn (showData(countriesToShow().filter(element => element.name===props.showButton )[0]))\n\t}\n\telse if (countriesToShow().length<=10){\n\t\treturn(\n\t\t\t<div>{countriesToShow().map((element) => <li key={element.name}>{element.name} <button onClick={() => {\n\t\t\t\tprops.setShowButton(element.name)\n\t\t\t\tprops.setWeather(element.capital)\n\t\t\t}}>show</button></li>)} </div>\n\t\t)\n\t}\n\telse if (countriesToShow().length>10) {\n\t\treturn(\n\t\t\t<div>Too many matches, specify another filter</div>\n\t\t)\n\t}\n}\n\nconst App = () => {\n\tconst [filterPar,setFilterPar] = useState(\"\")\n\tconst [countries,setCountries] = useState([])\n\tconst [showButton, setShowButton] = useState(\"\")\n\tconst [weather, setWeather] = useState({})\n\n\tconst getCountries = () => {\n\t\taxios.get(\"https://restcountries.eu/rest/v2/all\").then(response => setCountries(response.data))\n\t}\n\n\tconst changeFilterPar = (event) =>{\n\t\tsetFilterPar(event.target.value)\n\t\tsetShowButton(\"\")\n\t}\n\n\tuseEffect(getCountries, [])\n\n\treturn(\n\t\t<div>\n\t\t\t<div>find countries <input value={filterPar} onChange={changeFilterPar}/></div>\n\t\t\t<Content countries={countries} filterPar={filterPar} setShowButton={setShowButton} showButton={showButton} weather={weather} setWeather={setWeather}/>\n\t\t</div>\n\t)\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}